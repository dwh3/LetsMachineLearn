Traceback (most recent call last):
  File "C:\Users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages\jupyter_cache\executors\utils.py", line 58, in single_nb_execution
    executenb(
  File "C:\Users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages\nbclient\client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "C:\Users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages\jupyter_core\utils\__init__.py", line 165, in wrapped
    return loop.run_until_complete(inner)
  File "C:\Users\david\anaconda3\envs\my-jupyterbook-env\lib\asyncio\base_events.py", line 647, in run_until_complete
    return future.result()
  File "C:\Users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages\nbclient\client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "C:\Users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages\nbclient\client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "C:\Users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages\nbclient\client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
!pip install matplotlib
import matplotlib.pyplot as plt
import numpy as np
import pandas as pd
import statsmodels.formula.api as sm  # For the regression line

# Set seed for reproducibility
np.random.seed(1)

n = 1000  # number of observations

# Generate random heights (in inches)
heights = np.random.normal(loc=66, scale=4, size=n)

# Generate weights (in pounds) with a linear relationship to height
epsilon = np.random.normal(loc=0, scale=10, size=n)  # Error term
beta0 = -120  # Intercept parameter (base weight)  Note:  Often needs adjustment
beta1 = 4.5  # Slope parameter (weight per inch)   Note:  Often needs adjustment

weights = beta0 + beta1 * heights + epsilon

# Create data frame
df = pd.DataFrame({'Height': heights, 'Weight': weights})

# --- Plotting ---
fig, ax = plt.subplots(figsize=(8, 6))

# Scatter plot of the data
ax.scatter(df['Height'], df['Weight'], alpha=0.6, s=20)  # Adjust 's' for point size

# Add regression line (using statsmodels for a clean fit)
model = sm.ols("Weight ~ Height", data=df).fit()
predictions = model.predict(df)
ax.plot(df['Height'], predictions, color='blue', linewidth=2)


# Add labels and title
ax.set_xlabel("Height (inches)")
ax.set_ylabel("Weight (pounds)")
ax.set_title("Height vs Weight")

# Customize appearance (optional, but good practice)
ax.grid(True, linestyle=':', alpha=0.6)  # Add a subtle grid
# ax.set_facecolor('#f0f0f0') # Optional: Light gray background

plt.show()

# --- Alternative Plotting (using Seaborn, even simpler) ---
# import seaborn as sns
# sns.regplot(x='Height', y='Weight', data=df, ci=None, scatter_kws={'alpha':0.6}, line_kws={'color':'blue'})
# plt.show()
------------------

----- stdout -----
Collecting matplotlib
  Downloading matplotlib-3.9.4-cp39-cp39-win_amd64.whl.metadata (11 kB)
Collecting contourpy>=1.0.1 (from matplotlib)
  Downloading contourpy-1.3.0-cp39-cp39-win_amd64.whl.metadata (5.4 kB)
Collecting cycler>=0.10 (from matplotlib)
  Downloading cycler-0.12.1-py3-none-any.whl.metadata (3.8 kB)
Collecting fonttools>=4.22.0 (from matplotlib)
  Downloading fonttools-4.56.0-cp39-cp39-win_amd64.whl.metadata (103 kB)
Collecting kiwisolver>=1.3.1 (from matplotlib)
  Downloading kiwisolver-1.4.7-cp39-cp39-win_amd64.whl.metadata (6.4 kB)
Collecting numpy>=1.23 (from matplotlib)
  Downloading numpy-2.0.2-cp39-cp39-win_amd64.whl.metadata (59 kB)
Requirement already satisfied: packaging>=20.0 in c:\users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages (from matplotlib) (24.2)
Collecting pillow>=8 (from matplotlib)
  Downloading pillow-11.1.0-cp39-cp39-win_amd64.whl.metadata (9.3 kB)
Collecting pyparsing>=2.3.1 (from matplotlib)
  Downloading pyparsing-3.2.1-py3-none-any.whl.metadata (5.0 kB)
Requirement already satisfied: python-dateutil>=2.7 in c:\users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages (from matplotlib) (2.9.0.post0)
Requirement already satisfied: importlib-resources>=3.2.0 in c:\users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages (from matplotlib) (6.5.2)
Requirement already satisfied: zipp>=3.1.0 in c:\users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages (from importlib-resources>=3.2.0->matplotlib) (3.21.0)
Requirement already satisfied: six>=1.5 in c:\users\david\anaconda3\envs\my-jupyterbook-env\lib\site-packages (from python-dateutil>=2.7->matplotlib) (1.17.0)
Downloading matplotlib-3.9.4-cp39-cp39-win_amd64.whl (7.8 MB)
   ---------------------------------------- 0.0/7.8 MB ? eta -:--:--
   ------------------------ --------------- 4.7/7.8 MB 23.8 MB/s eta 0:00:01
   ---------------------------------------- 7.8/7.8 MB 25.5 MB/s eta 0:00:00
Downloading contourpy-1.3.0-cp39-cp39-win_amd64.whl (211 kB)
Downloading cycler-0.12.1-py3-none-any.whl (8.3 kB)
Downloading fonttools-4.56.0-cp39-cp39-win_amd64.whl (2.2 MB)
   ---------------------------------------- 0.0/2.2 MB ? eta -:--:--
   ---------------------------------------- 2.2/2.2 MB 17.8 MB/s eta 0:00:00
Downloading kiwisolver-1.4.7-cp39-cp39-win_amd64.whl (55 kB)
Downloading numpy-2.0.2-cp39-cp39-win_amd64.whl (15.9 MB)
   ---------------------------------------- 0.0/15.9 MB ? eta -:--:--
   ----------------- ---------------------- 7.1/15.9 MB 36.4 MB/s eta 0:00:01
   -------------------------------------- - 15.2/15.9 MB 36.8 MB/s eta 0:00:01
   ---------------------------------------- 15.9/15.9 MB 34.5 MB/s eta 0:00:00
Downloading pillow-11.1.0-cp39-cp39-win_amd64.whl (2.6 MB)
   ---------------------------------------- 0.0/2.6 MB ? eta -:--:--
   ---------------------------------------- 2.6/2.6 MB 30.3 MB/s eta 0:00:00
Downloading pyparsing-3.2.1-py3-none-any.whl (107 kB)
Installing collected packages: pyparsing, pillow, numpy, kiwisolver, fonttools, cycler, contourpy, matplotlib
Successfully installed contourpy-1.3.0 cycler-0.12.1 fonttools-4.56.0 kiwisolver-1.4.7 matplotlib-3.9.4 numpy-2.0.2 pillow-11.1.0 pyparsing-3.2.1
------------------

[1;31m---------------------------------------------------------------------------[0m
[1;31mModuleNotFoundError[0m                       Traceback (most recent call last)
Cell [1;32mIn[1], line 4[0m
[0;32m      2[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mmatplotlib[39;00m[38;5;21;01m.[39;00m[38;5;21;01mpyplot[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01mplt[39;00m
[0;32m      3[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mnumpy[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01mnp[39;00m
[1;32m----> 4[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mpandas[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01mpd[39;00m
[0;32m      5[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mstatsmodels[39;00m[38;5;21;01m.[39;00m[38;5;21;01mformula[39;00m[38;5;21;01m.[39;00m[38;5;21;01mapi[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01msm[39;00m  [38;5;66;03m# For the regression line[39;00m
[0;32m      7[0m [38;5;66;03m# Set seed for reproducibility[39;00m

[1;31mModuleNotFoundError[0m: No module named 'pandas'

